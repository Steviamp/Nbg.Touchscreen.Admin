@inherits LayoutComponentBase
@using MudBlazor
@using Nbg.Touchscreen.Admin.Components.Dialogs

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Color="Color.Primary" Elevation="4">
        <MudImage Src="images/MellonTech.png" Alt="Company Logo" Style="max-width: 100px;" />
        <MudText Typo="Typo.h6" Class="ml-2">Mellon Queueing System</MudText>
        <MudSpacer />
        <AuthorizeView>
            <Authorized>
                <MudButton Color="Color.Inherit" Variant="Variant.Outlined" OnClick="OpenCreateUser">Create user</MudButton>
                <MudButton Color="Color.Inherit" Variant="Variant.Outlined" Href="/auth/logout" Class="ml-2">Logout</MudButton>
            </Authorized>
        </AuthorizeView>
    </MudAppBar>

    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code {
    [Inject] IDialogService DialogService { get; set; } = default!;
    private void OpenCreateUser() => DialogService.Show<CreateUserDialog>("Create user");
}
