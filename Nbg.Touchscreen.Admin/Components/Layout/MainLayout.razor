@inherits LayoutComponentBase
@using MudBlazor
@using Nbg.Touchscreen.Admin.Components.Dialogs
@inject NavigationManager Nav

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Color="Color.Primary" Elevation="4">
        <MudImage Src="images/MellonTech.png" Alt="Company Logo" Style="max-width: 100px;" />
        <MudText Typo="Typo.h6" Class="ml-2" Style="position:absolute; left:50%; transform:translateX(-50%);">Mellon Queueing System</MudText>
        <MudSpacer />
        <AuthorizeView>
            <Authorized>
                @if (!IsHomePage)
        {
                <MudButton Color="Color.Inherit" Variant="Variant.Outlined" Href="/" Class="ml-2">Back</MudButton>
        }
                <MudButton Color="Color.Inherit" Variant="Variant.Outlined" Href="/auth/logout" Class="ml-2">Logout</MudButton>
            </Authorized>
        </AuthorizeView>
    </MudAppBar>

    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private bool IsHomePage => Nav.Uri.EndsWith("/");
}
